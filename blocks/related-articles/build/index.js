!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t,n){var r=n(9);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t,n){var r=n(10);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(12),o=n(11);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(15),o=n(14),a=n(13);e.exports=function(e){return r(e)||o(e)||a()}},function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),a=n(6),c=n.n(a),i=n(5),l=n.n(i),s=n(4),u=n.n(s),f=n(3),p=n.n(f),m=n(2),b=n.n(m),d=n(1),y=n.n(d),g=n(0),h=wp.i18n.__,v=wp.apiFetch,O=wp.editor,_=O.InspectorControls,j=O.RichText,w=wp.components,S=w.BaseControl,x=w.PanelBody,E=w.Placeholder,k=w.RangeControl,A=w.Spinner,C=w.ToggleControl,P=w.Toolbar,L=w.TreeSelect,T=wp.data.withSelect,R=wp.date,M=R.dateI18n,N=R.format,I=R.__experimentalGetSettings,D=wp.element,q=D.Component,B=D.Fragment,U=D.RawHTML,F=wp.url.addQueryArgs;var G=function(e){function t(){var e;return c()(this,t),(e=u()(this,p()(t).apply(this,arguments))).state={categoriesList:[],tagsList:[]},e}return b()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.isStillMounted=!0,this.fetchCategoriesRequest=v({path:F("/wp/v2/categories",{per_page:-1})}).then(function(t){e.isStillMounted&&e.setState({categoriesList:t})}).catch(function(){e.isStillMounted&&e.setState({categoriesList:[]})}),this.fetchTagsRequest=v({path:F("/wp/v2/tags",{per_page:-1})}).then(function(t){e.isStillMounted&&e.setState({tagsList:t})}).catch(function(){e.isStillMounted&&e.setState({tagsList:[]})})}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,r=e.latestPosts,o=this.state,a=o.categoriesList,c=o.tagsList,i=t.displayPostDate,l=t.categories,s=t.tags,u=t.columns,f=t.title,p=t.titleLevel,m=t.offset,b=Object(g.createElement)(_,null,Object(g.createElement)(x,{title:h("Related Articles Settings")},Object(g.createElement)("p",null,h("Title Level")),Object(g.createElement)(P,{controls:[1,2,3,4,5,6].map(function(e){return{icon:"heading",isActive:e===p,onClick:function(){return n({titleLevel:e})},subscript:String(e)}})}),Object(g.createElement)(k,{label:h("Columns"),value:u,onChange:function(e){return n({columns:e})},min:2,max:6}),Object(g.createElement)(L,{key:"query-controls-category-select",label:h("Category"),noOptionLabel:h("All"),tree:function(e){var t=function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}(e,"parent");return function e(n){return n.map(function(n){var r=t[n.id];return y()({},n,{children:r&&r.length?e(r):[]})})}(t[0]||[])}(a),selectedId:l,onChange:function(e){return n({categories:""!==e?e:void 0})}}),Object(g.createElement)(L,{key:"query-controls-tag-select",label:h("Tag"),noOptionLabel:h("All"),tree:c,selectedId:s,onChange:function(e){return n({tags:""!==e?e:void 0})}}),Object(g.createElement)(C,{label:h("Display post date"),checked:i,onChange:function(){return n({displayPostDate:!i})}}),Object(g.createElement)(S,{label:h("Offset")},Object(g.createElement)("input",{type:"number",onChange:function(e){return n({offset:parseInt(e.target.value)})},value:m,min:"0",step:"1"}))));if(!(Array.isArray(r)&&r.length))return Object(g.createElement)(B,null,b,Object(g.createElement)(E,{icon:"admin-post",label:h("Related Articles")},Array.isArray(r)?h("No articles found."):Object(g.createElement)(A,null)));var d=I().formats.date,v="h"+p;return Object(g.createElement)(B,null,b,Object(g.createElement)("div",{className:"related-articles"},Object(g.createElement)(j,{identifier:"title",className:"related-articles__title",tagName:v,value:f,onChange:function(e){return n({title:e})},formattingControls:[]}),Object(g.createElement)("div",{className:"related-articles__items wp-block-columns has-".concat(u,"-columns")},Array.from({length:u}).map(function(e,t){var n=r[t];if(!n)return Object(g.createElement)("div",{className:"related-articles__item wp-block-column",key:t});var o=n.title.rendered.trim();return Object(g.createElement)("div",{className:"related-articles__item wp-block-column",key:t},Object(g.createElement)("img",{src:n.featured_media_data.source_url,alt:n.featured_media_data.alt_text}),i&&n.date_gmt&&Object(g.createElement)("time",{dateTime:N("c",n.date_gmt),className:"related-articles__post-date"},M(d,n.date_gmt)),Object(g.createElement)("p",{className:"related-articles__item__title"},o?Object(g.createElement)(U,null,o):"(".concat(h("Untitled"),")")))}))))}}]),t}(q),H=T(function(e,t){var n=t.attributes,r=n.columns,o=n.categories,a=n.tags,c=n.offset;return{latestPosts:(0,e("core").getEntityRecords)("postType","post",{categories:o,tags:a,order:"desc",orderby:"date",per_page:r,offset:c})}})(G),Q={"nn-NO":{"":{lang:"no"},"Related Articles Settings":["Innstillinger for relaterte artikler"],"Related Articles":["Relaterte Artikler"],"Title Level":["Tittel nivÃ¥"],Untitled:["Uten navn"]}},W=wp.i18n,X=W.__,z=W.setLocaleData,J=wp.blocks.registerBlockType,K=wp.data,V=K.dispatch,Y=K.select;z(Q[document.documentElement.lang]);var Z={slug:"starterx",title:X("StarterX Blocks")},$=Y("core/blocks").getCategories().filter(function(e){return e.slug!==Z.slug});V("core/blocks").setCategories([Z].concat(o()($))),J("starterx/related-articles",{title:X("Related Articles"),icon:"admin-page",category:Z.slug,keywords:[X("recent posts"),X("recent articles"),X("articles")],edit:H,save:function(){return null}})},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}}]);